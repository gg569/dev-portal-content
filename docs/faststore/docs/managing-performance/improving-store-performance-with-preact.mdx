---
title: "Improving store performance with Preact"
---

Enabling [Preact](https://preactjs.com/) in your FastStore project can reduce the package size used in the project and improve performance. Preact is a lightweight alternative to [React](https://react.dev/) that improves performance by reducing the size of the JavaScript bundle. Enabling Preact decreases the overall build size in a FastStore project, resulting in faster page load times and better performance.

## Before you begin

Bear in mind the following:

Preact is an experimental feature in FastStore. Therefore, it has some limitations and might cause side effects in certain customizations. Before using it
in the production environment, make sure to test it to ensure compatibility with your store context.

Limited Feature Compatibility Preact is a lightweight alternative to React and does not support all React features. Some advanced APIs or third-party libraries designed specifically for React may not work seamlessly.

> ⚠️ This is an experimental feature.

| Before Preact | After Preact |
| ------------- | ------------ |
| ![before-preact](https://vtexhelp.vtexassets.com/assets/docs/src/before-preact___aa7837e2280b911dd89fe3df3171f298.png) | ![after-preact](https://vtexhelp.vtexassets.com/assets/docs/src/after-preact___d5254919671e8304591421d3ec542610.png) |
| The initial load times for store pages varied significantly, with some pages requiring up to 159 KB of JavaScript to load initially. This resulted in slower performance and longer wait times for users. Additionally, the shared JavaScript bundle was 94.1 KB, further contributing to the initial load size. | Preact optimized store performance by reducing the initial JavaScript load size for all pages. While some pages still required around 100–120 KB of JavaScript, this is an improvement compared to the previous 159 KB. The shared JavaScript bundle was also reduced to 58.7 KB. These optimizations led to faster load times and overall better performance for the store. |

## Before you begin

Make sure the `@faststore/cli` package from your project is updated to the latest version. To do so, follow the instructions in [Updating the '@fastore/cli' package version](https://developers.vtex.com/docs/guides/faststore/project-structure-updating-the-cli-package-version).

## Instructions

1. Open your FastStore project code.
2. Go to `discovery.config.js` file and add the `preact` flag in the `experimental` section:

> ⚠️ The `faststore.config.js` file is the legacy filename for `discovery.config.js`. If you still using the legacy name, please refer to [this release note](https://github.com/vtex/faststore/releases/tag/v3.0.123) to update it.

    ```js mark=4
    experimental: {
        nodeVersion: 18,
        cypressVersion: 12,
        preact: true
    }
    ```

3. Open the terminal and run `yarn dev` to start the development server with Preact enabled.

4. Run `yarn build` in your terminal to create a production-ready build and compare the size of the built store with Preact enabled. A smaller size indicates potential performance improvement.
